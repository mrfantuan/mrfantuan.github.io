---
layout: post
title: 常见拒绝服务型攻击原理及行为特征
date:  2018-06-27 10:00:00
categories: Security
tag: Security
---
# 拒绝服务型攻击：

> 拒绝服务攻击即攻击者想办法让目标机器停止提供服务或资源访问。

是黑客常用的攻击手段之一。这些资源包括磁盘空间、内存、进程甚至网络带宽，从而阻止正常用户的访问。其实对网络带宽进行的消耗性攻击只是拒绝服务攻击的一小部分，只要能够对目标造成麻烦，使某些服务被暂停甚至主机死机，都属于拒绝服务攻击。

来自单个攻击者的拒绝服务攻击简称为拒绝服务攻击，又称DOS攻击。 来自多个PC（可能是僵尸机或Bot）的攻击被称为分布式拒绝服务攻击，又称DDOS攻击。

## ICMP 攻击：

> ICMP（Internet控制消息协议， Internet Control Message Protocol）协议用来给IP协议提供控制服务，允许路由器或目标主机给数据的发送方提供反馈信息。

需要发送反馈信息的情况包括：数据包不能被发送到目标主机，路由器缓冲区溢出导致数据包被删除，路由器想要把流量重定向到另外一个更短的路由上等。ICMP协议是IP协议的一部分，任何实现了IP协议的设备同时也被要求实现ICMP协议。

利用这个协议来进行攻击的方式都被称为ICMP攻击，常见的有以下几种：

### Ping Flood 攻击：

> 该攻击在短时间内向目的主机发送大量Ping包,造成网络堵塞或主机资源耗尽。

### Ping of Death攻击：

又称死亡之Ping，中二的名字 (= =)

>ICMP方法是由攻击者故意发送大于65535字节的ip数据包给对方。

TCP/IP的特征之一是碎裂；它允许单一IP包被分为几个更小的数据包。ICMP数据包最大尺寸不超过65535字节利用这一规定，可以向主机发动 ping of death 攻击。ping of death 攻击 是通过在最后分段中，改变其正确的偏移量和段长度的组合，使系统在接收到全部分段并重组报文时总的长度超过了65535字节，导致内存溢出，这时主机就会出现内存分配错误而导致TCP/IP堆栈崩溃，导致死机。

### Smurf 攻击：

> 攻击者伪造一个合法的IP地址，然后由网络上所有的路由器广播要求向受攻击计算机地址做出回答的请求。

由于这些数据包表面上看是来自已知地址的合法请求，因此网络中的所有系统向这个地址做出回答，最终结果可导致该网络的所有主机都对此ICMP应答请求作出答复，导致网络阻塞。

或将源地址改为第三方的受害者，并且大量的广播。

## 基于TCP攻击：

### Syn Flood攻击：

> 向源机建立大量半连接。

又称SYN洪水攻击，建立TCP连接需要经过三次握手，第一次握手：用户向服务器发送了SYN报文；第二次握手，服务器向用户返回SYN+ACK的报文；第三次握手，客户端也返回一个确认报文ACK给服务器端。

假设一个用户向服务器发送了SYN报文后突然死机或掉线，那么服务器在发出SYN+ACK应答报文后是无法收到客户端的ACK报文的（第三次握手无法完成），这种情况下服务器端一般会重试（再次发送SYN+ACK给客户端）并等待一段时间后丢弃这个未完成的连接，这段时间的长度我们称为SYN Timeout，一般来说这个时间是分钟的数量级（大约为30秒-2分钟）。那如果是大量恶意的不应答第三次握手呢，最后的结果往往是堆栈溢出崩溃，即使服务器足够强大，也会无法回复正常的TCP连接，而导致正常用户无法访问。

### Land 攻击：

> 攻击者发送具有与受害者相同源IP，目的IP，源端口，目的端口伪造 TCP SYN 数据包信息流，然后受害者将一直响应自身导致死循环，或是无暇相应正常访问。


## 基于UDP攻击：

UDP 是User Datagram Protocol的简称， 中文名是用户数据包协议，是 OSI 参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息传送服务。

UDP攻击是基于UDP协议的攻击，当受害系统接收到一个 UDP 数据包的时候，它会确定目的端口正在等待中的应用程序。当它发现该端口中并不存在正在等待的应用程序，它就会产生一个目的地址无法连接的 ICMP数据包发送给该伪造的源地址。如果向受害者计算机端口发送了足够多的 UDP 数据包的时候，整个系统就会瘫痪。

